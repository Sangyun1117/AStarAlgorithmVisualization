# A*알고리즘 시각화
>Windows Console를 이용해 A* 알고리즘을 시각화해본 프로젝트 입니다.
>마우스 입력을 통해 간편하게 여러 케이스를 테스트해 볼 수 있습니다.
>대표적인 세 가지 휴라스틱 함수를 비교 할 수 있도록 만들어보았습니다.

---

## 🖼️ 데모 / 스크린샷
### ⛏️ 유클리드 거리<br>
![Image](https://github.com/user-attachments/assets/bba67935-1797-445e-9dac-11c442a59111)
![Image](https://github.com/user-attachments/assets/481b02e6-2021-482f-9bad-e2d71686b9a6)<br>
### ⚔️ 맨해튼 거리<br>
![Image](https://github.com/user-attachments/assets/d2ce1554-e098-4c45-9e3d-970feab75a50)
### ⚔️ 체비쇼프 거리<br>
![Image](https://github.com/user-attachments/assets/d2ce1554-e098-4c45-9e3d-970feab75a50)

---

## ⚙️ 개발 환경

- 개발 도구: Visual Studio 2022  
- 프로그래밍 언어: C++  
- 운영체제: Windows 11

---

## 🛠️ 설치 방법
OS: Windows 콘솔/터미널 환경 필요<br><br>
아래 링크에서 설치 후 ClientGame 폴더의 ClientGame.exe 관리자 권한으로 실행<br>
https://github.com/Sangyun1117/Terraria-ConsoleEngine/releases/download/v1.0.0/ConsoleTerraria.zip <br>


## 📌 동작 방법
- Q/W/E 또는 UI버튼 클릭으로 생성할 액터를 정합니다. 

- Q는 🐰토끼 입니다. 마우스 좌클릭을 통해 위치를 변경합니다. A* 알고리즘의 시작점이 됩니다.

- W는 🧱벽 입니다. 마우스 좌클릭 드래그를 통해 설치하고 우클릭 드래그로 삭제합니다. A* 알고리즘의 장애물이 됩니다.

- E는 🥕당근 입니다. 마우스 좌클릭을 통해 위치를 변경합니다. A* 알고리즘의 도착점이 됩니다.

- A/S/D 또는 UI버튼 클릭으로 휴리스틱 함수를 정합니다.

- R 또는 UI버튼 클릭으로 알고리즘을 실행 합니다. 토끼에서 시작해 탐색한 영역을 빨간색으로 칠하고 당근을 발견하면 최단경로를 파란색으로 칠합니다.

- 최단경로를 발견하면 토끼는 당근까지 움직이고 당근에 도착하면 새로운 위치에 당근이 재생성 됩니다.

- 하단 UI에 탐색한 영역의 수(Count)와 걸린 시간(Time)이 표시 됩니다.

## 😒 개발 과정 & 어려웠던 점

### 1. 플레이어 중심 화면 이동

❓ 맵이 넓기 때문에 플레이어 중심으로 맵의 일부분만 보여줘야 했습니다.

💡 해결 방법
1. 맵과 플레이어의 좌표를 txt 파일에 저장
2. txt 파일을 불러온 후 월드 좌표로 변경 (txt파일에 적힌 문자를 Switch 문으로 실제 오브젝트 크기로 변환)
3. 카메라 LeftTop 좌표 구하기 (플레이어 좌표 - 콘솔창 크기 / 2)
4. 구한 카메라 좌표부터 콘솔창 크기만큼 렌더링
5. 플레이어 이동 시 카메라 좌표도 같이 변경

### 2. 샌드박스 게임 특성상 넓은 맵과 다수의 오브젝트 존재 → 최적화 필요

❓ 객체 생성 시 3개의 파일(이미지, 배경색, 전경색)을 가져오기 때문에 동일한 파일 로드가 빈번히 일어났습니다.

💡 해결 방법
- 이미지 관리자 객체 생성
- 게임 실행 시 이미지 관리자가 Assets 폴더의 모든 파일을 미리 로드
- 객체 생성 시 참조 방식으로 파일 사용하여 중복 로드 방지
- 사용하지 않을 수도 있는 이미지를 불러오는 단점이 있으나, 프로젝트 규모가 작아 그런 케이스가 적음 + 구조가 단순함

❓ 정적 객체와 동적 객체를 한 큐에서 관리하여 의미 없는 대기가 빈번히 발생했습니다. (정적 객체가 아무 행동이 없어도 매 프레임 Tick() 호출, 몬스터 공격 판정 시 정적 객체인 블록도 포함됨)

💡 해결 방법
- 정적 객체는 2차원 벡터에 저장, 동적 객체는 큐에 별도로 저장
- 정적 객체는 벡터에 저장해 마우스 클릭등의 이벤트 시 탐색을 빠르게 함. Tick() 호출 없이 필요 시 동적 객체에서 접근하여 행동 처리(블록 생성/삭제 등)
- 동적 객체는 큐에 저장되어 우선순위에 따라 sort 후 Render 처리


## 🚀 향후 계획
- 세이브 기능

- 무한맵 기능

- 아이템 제작

- 더 다양한 아이템과 몬스터 추가

- 몬스터 이동 알고리즘 변경 (A* 알고리즘 등)

- 미니맵

- 맵 에디터 기능

## 📄 프로젝트 문서 (Notion)
[🔗 노션 페이지](https://unmarred-iguanodon-dea.notion.site/A-25a3bd2b36e280eeb0a7c763e3c9fd37?source=copy_link)
